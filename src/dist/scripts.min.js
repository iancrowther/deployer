require.config({paths:{text:"thirdparty/text/text",i18n:"thirdparty/i18n/i18n"},locale:window.localStorage.getItem("locale")||("undefined"!=typeof brackets?brackets.app.language:navigator.language)}),define(function(a,b,c){"use strict";function d(){brackets.test={PreferencesManager:F,ProjectManager:i,DocumentCommandHandlers:n,FileViewController:o,DocumentManager:j,EditorManager:k,Commands:r,WorkingSetView:m,PerfUtils:u,JSUtils:l,CommandManager:s,FileSyncManager:p,FileIndexManager:v,Menus:w,KeyBindingManager:q,CodeHintManager:t,Dialogs:z,DefaultDialogs:A,CodeInspection:I,CSSUtils:a("language/CSSUtils"),LiveDevelopment:a("LiveDevelopment/LiveDevelopment"),LiveDevServerManager:a("LiveDevelopment/LiveDevServerManager"),DOMAgent:a("LiveDevelopment/Agents/DOMAgent"),Inspector:a("LiveDevelopment/Inspector/Inspector"),NativeApp:J,ExtensionLoader:B,ExtensionUtils:G,UpdateNotification:a("utils/UpdateNotification"),InstallExtensionDialog:a("extensibility/InstallExtensionDialog"),RemoteAgent:a("LiveDevelopment/Agents/RemoteAgent"),HTMLInstrumentation:a("language/HTMLInstrumentation"),doneLoading:!1},g.appReady(function(){brackets.test.doneLoading=!0})}function e(){u.addMeasurement("window.document Ready"),k.setEditorHolder($("#editor-holder")),brackets.inBrowser&&z.showModalDialog(A.DIALOG_ID_ERROR,y.ERROR_IN_BROWSER_TITLE,y.ERROR_IN_BROWSER);var a=/Mac OS X 10\D([\d+])\D/.exec(navigator.userAgent);if(a&&a[1]&&Number(a[1])>=7){var b=$("<div style='position:fixed;left:-50px;width:50px;height:50px;overflow:auto;'><div style='width:100px;height:100px;'/></div>").appendTo(window.document.body);b.outerWidth()===b.get(0).clientWidth&&$(".sidebar").removeClass("quiet-scrollbars"),b.remove()}h.ready.always(function(){var a=B.init(K.get("extensions"));a.always(function(){var a=i.getInitialProjectPath();i.openProject(a).always(function(){d();var b=F.getPreferenceStorage(c),e=new $.Deferred;if(F.handleClientIdChange(b,"com.adobe.brackets.startup"),K.get("skipSampleProjectLoad")||b.getValue("afterFirstLaunch"))e.resolve();else if(b.setValue("afterFirstLaunch","true"),i.isWelcomeProjectPath(a)){var f=new E.DirectoryEntry(a);f.getFile("index.html",{},function(a){var b=s.execute(r.FILE_ADD_TO_WORKING_SET,{fullPath:a.fullPath});b.then(e.resolve,e.reject)},e.reject)}else e.resolve();e.always(function(){g._dispatchReady(g.APP_READY),u.addMeasurement("Application Startup")}),brackets.app.getPendingFilesToOpen&&brackets.app.getPendingFilesToOpen(function(a,b){b.forEach(function(a){s.execute(r.FILE_OPEN,{fullPath:a})})})})})}),K.get("skipUpdateCheck")||brackets.inBrowser||(window.setInterval(C.checkForUpdate,8652e4),g.appReady(function(){C.checkForUpdate()}))}function f(){$("body").addClass("platform-"+brackets.platform),brackets.inBrowser?$("body").addClass("in-browser"):$("body").addClass("in-appshell"),brackets.nativeMenus?$("body").addClass("has-appshell-menus"):!function(){var a=$.fn.focus;$.fn.focus=function(){this.hasClass("dropdown-toggle")||a.apply(this,arguments)}}(),$("body").html(Mustache.render(x,y)),$("title").text(brackets.config.app_title),$(window.document.body).on("dragover",function(a){var b="none";a.originalEvent.dataTransfer.files&&(a.stopPropagation(),a.preventDefault(),H.isValidDrop(a.originalEvent.dataTransfer.items)&&(b="copy"),a.originalEvent.dataTransfer.dropEffect=b)}).on("drop",function(a){a.originalEvent.dataTransfer.files&&(a.stopPropagation(),a.preventDefault(),brackets.app.getDroppedFiles(function(a,b){a||H.openDroppedFiles(b)}))}),$(window).focus(function(){p.syncOpenDocuments(),v.markDirty()}),$("html").on("mousedown",".inline-widget",function(a){1===a.button&&a.preventDefault()}),$("html").on("mousedown",".no-focus",function(a){var b=$(a.target),c=b.is("input[type=text]")||b.is("input[type=number]")||b.is("input[type=password]")||b.is("input:not([type])")||b.is("textarea");c||a.preventDefault()}),window.document.body.addEventListener("click",function(a){for(var b,c=a.target;c;){if("A"===c.tagName){b=c.getAttribute("href"),b&&!b.match(/^#/)&&J.openURLInDefaultBrowser(b),a.preventDefault();break}c=c.parentElement}},!0)}a("widgets/bootstrap-dropdown"),a("widgets/bootstrap-modal"),a("widgets/bootstrap-twipsy-mod"),a("thirdparty/path-utils/path-utils.min"),a("thirdparty/smart-auto-complete/jquery.smart_autocomplete");var g=(a("utils/Global"),a("utils/AppInit")),h=a("language/LanguageManager"),i=a("project/ProjectManager"),j=a("document/DocumentManager"),k=a("editor/EditorManager"),l=(a("editor/CSSInlineEditor"),a("language/JSUtils")),m=a("project/WorkingSetView"),n=(a("project/WorkingSetSort"),a("document/DocumentCommandHandlers")),o=a("project/FileViewController"),p=a("project/FileSyncManager"),q=a("command/KeyBindingManager"),r=a("command/Commands"),s=a("command/CommandManager"),t=a("editor/CodeHintManager"),u=a("utils/PerfUtils"),v=a("project/FileIndexManager"),w=(a("search/QuickOpen"),a("command/Menus")),x=(a("file/FileUtils"),a("text!htmlContent/main-view.html")),y=a("strings"),z=a("widgets/Dialogs"),A=a("widgets/DefaultDialogs"),B=a("utils/ExtensionLoader"),C=(a("project/SidebarView"),a("utils/Async"),a("utils/UpdateNotification")),D=a("utils/UrlParams").UrlParams,E=a("file/NativeFileSystem").NativeFileSystem,F=a("preferences/PreferencesManager"),G=(a("utils/Resizer"),a("LiveDevelopment/main"),a("utils/NodeConnection"),a("utils/ExtensionUtils")),H=a("utils/DragAndDrop"),I=(a("utils/ColorUtils"),a("language/CodeInspection")),J=a("utils/NativeApp");a("command/DefaultMenus"),a("document/ChangedDocumentTracker"),a("editor/EditorStatusBar"),a("editor/EditorCommandHandlers"),a("editor/EditorOptionHandlers"),a("view/ViewCommandHandlers"),a("help/HelpCommandHandlers"),a("search/FindInFiles"),a("search/FindReplace"),a("extensibility/InstallExtensionDialog"),a("extensibility/ExtensionManagerDialog"),u.addMeasurement("brackets module dependencies resolved");var K=new D;K.parse(),f(),g._dispatchReady(g.HTML_READY),$(window.document).ready(e)});